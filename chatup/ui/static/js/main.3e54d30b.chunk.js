(this["webpackJsonpchatup-ui"]=this["webpackJsonpchatup-ui"]||[]).push([[0],{177:function(e,t,a){e.exports=a(206)},206:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(45),s=a.n(l),c=a(22),o=a(95),u=a(19),i=a(28),m=a(26),h=a(72),d=a(23),p=a(14),g=function(e){return e.children},f=a(222),E=a(161),b=a(218),v=a(97),w="http://127.0.0.1:8000",j="ws://127.0.0.1:8000";w="https://chatup-vezaks.herokuapp.com",j="wss://chatup-vezaks.herokuapp.com";var k=function(){function e(){Object(c.a)(this,e),this.callbacks={},this.socketRef=null}return Object(u.a)(e,null,[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),Object(u.a)(e,[{key:"connect",value:function(e){var t=this,a="".concat(j,"/api/ws/rooms/").concat(e,"/");this.socketRef=new WebSocket(a),this.socketRef.onopen=function(){console.log("WebSocket open")},this.socketRef.onmessage=function(e){t.socketNewMessage(e.data)},this.socketRef.onerror=function(e){console.log(e.content)},this.socketRef.onclose=function(a){a.wasClean||(console.log("WebSocket closed let's reopen"),t.connect(e))}}},{key:"disconnect",value:function(){this.socketRef.close(1e3,"Closing Connection Normally")}},{key:"socketNewMessage",value:function(e){var t=JSON.parse(e),a=t.type;0!==Object.keys(this.callbacks).length&&("send_message"===a&&this.callbacks.new_message(t.content),"update_watchers_count"===a&&this.callbacks.update_watchers_count(t.content))}},{key:"newChatMessage",value:function(e){this.sendMessage({type:"create_message",content:{text:e.content}})}},{key:"addCallbacks",value:function(e,t){this.callbacks.new_message=e,this.callbacks.update_watchers_count=t}},{key:"sendMessage",value:function(e){try{this.socketRef.send(JSON.stringify(Object(v.a)({},e)))}catch(t){console.log(t.message)}}},{key:"state",value:function(){return this.socketRef.readyState}}]),e}();k.instance=null;var S=k.getInstance(),y=a(12),C=a.n(y),I=function(e){return{type:"SET_MESSAGES",messages:e}};var O=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={message:""},n.messageChangeHandler=function(e){n.setState({message:e.target.value})},n.sendMessageHandler=function(e){e.preventDefault();var t={content:n.state.message};S.newChatMessage(t),n.setState({message:""})},n.renderMessages=function(e){return e.map((function(e){return r.a.createElement(f.a,{key:e.id},r.a.createElement(f.a.Content,null,r.a.createElement(f.a.Author,{as:"a"},r.a.createElement(E.a,{className:"message-img",src:"https://static-cdn.jtvnw.net/badges/v1/5527c58c-fb7d-422d-b71b-f309dcb85cc1/3"}),r.a.createElement(E.a,{className:"message-img",src:"https://static-cdn.jtvnw.net/jtv_user_pictures/panel-148316617-image-3036e147-20a6-490c-ae31-9cfa6cdd73ad"}),r.a.createElement(E.a,{className:"message-img",src:"data:image/png;base64,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"}),e.author.username),r.a.createElement(f.a.Metadata,null,r.a.createElement("div",null,"Today at 5:42PM")),r.a.createElement(f.a.Text,null,e.text)))}))},n.scrollToBottom=function(){n.messagesEnd.scrollIntoView({behavior:"smooth"})},n.initialiseChat(),n}return Object(u.a)(a,[{key:"initialiseChat",value:function(){this.props.fetchMessages(this.props.chatID),this.props.active&&S.connect(this.props.chatID)}}]),Object(u.a)(a,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"componentWillUnmount",value:function(){S.socketRef&&S.disconnect()}},{key:"render",value:function(){var e,t=this;return r.a.createElement(g,null,r.a.createElement("div",{className:"messages"},r.a.createElement(f.a.Group,{style:{height:"90%",overflowY:(e=17,e>16?"scroll":"null")}},this.props.messages&&this.renderMessages(this.props.messages),r.a.createElement("div",{ref:function(e){t.messagesEnd=e}}))),r.a.createElement("div",{className:"message-input"},this.props.active?r.a.createElement("form",{autoComplete:"off",onSubmit:this.sendMessageHandler},r.a.createElement("div",{className:"wrap"},r.a.createElement(b.a,{onChange:this.messageChangeHandler,value:this.state.message,required:!0,id:"chat-message-input",type:"text",placeholder:"Write your message...",fluid:!0}))):"This stream is offline"))}}]),a}(r.a.Component),A=Object(d.b)((function(e){return{messages:e.message.messages}}),(function(e){return{fetchMessages:function(t){return e(function(e){return function(t){C.a.defaults.xsrfHeaderName="X-CSRFTOKEN",C.a.defaults.xsrfCookieName="csrftoken",C.a.get("".concat(w,"/api/broadcasts/").concat(e,"/messages/"),{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then((function(e){t(I(e.data.result))})).catch((function(e){return console.log("error "+e)}))}}(t))}}}))(O),D=a(158),N=a.n(D),x=a(47),R=function(){return r.a.createElement("div",{className:"timetable",style:{width:"71%",marginRight:"20px"}},r.a.createElement("h4",null,r.a.createElement("span",{role:"img","aria-label":"tablet"},"\ud83d\udccb")," ","\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442 7.11.2020"),r.a.createElement("div",{className:"timetable-content"},"7.11 - \u0421\u0443\u0431\u0431\u043e\u0442\u0430: Inuyashiki (\u044d\u043a\u0441\u0442\u0440\u0430) ",r.a.createElement("span",{role:"img","aria-label":"flag"},"\ud83c\udfc1")," - \u0412\u0435\u0434\u044c\u043c\u0430\u043a 3",r.a.createElement("br",null),"8.11 - \u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435: \u0411\u0410\u0421\u041a\u0415\u0422\u0411\u041e\u041b \u041a\u0423\u0420\u041e\u041a\u041e - Monogatari (\u043f\u0435\u0440\u0435\u0441\u043c\u043e\u0442\u0440) - MANDALORIAN",r.a.createElement("br",null),"9.11 - \u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a: Hunter X Hunter (\u043f\u0435\u0440\u0435\u0441\u043c\u043e\u0442\u0440) - \u041c\u043e\u0439 \u0410\u0434\u0436\u043e\u0441\u0441\u0438 (\u044d\u043a\u0441\u0442\u0440\u0430)",r.a.createElement("br",null),"10.11 - \u0412\u0442\u043e\u0440\u043d\u0438\u043a: Golden Kamuy (\u043f\u0435\u0440\u0435\u0441\u043c\u043e\u0442\u0440) - Oyasumi Punpun (\u043c\u0430\u043d\u0433\u0430)",r.a.createElement("br",null),"11.11 - \u0421\u0440\u0435\u0434\u0430: \u041f\u0435\u0440\u0432\u044b\u0439 \u0448\u0430\u0433 - \u0422\u0432\u0438\u043d \u041f\u0438\u043a\u0441",r.a.createElement("br",null),"12.11 - \u0427\u0435\u0442\u0432\u0435\u0440\u0433: \u041d\u0430\u0440\u043a\u043e (\u044d\u043a\u0441\u0442\u0440\u0430) - \u041c\u043e\u0439 \u0410\u0434\u0436\u043e\u0441\u0441\u0438 (\u044d\u043a\u0441\u0442\u0440\u0430)",r.a.createElement("br",null),"13.11 - \u041f\u044f\u0442\u043d\u0438\u0446\u0430: \u041e\u0437\u0430\u0440\u043a (\u044d\u043a\u0441\u0442\u0440\u0430) - \u041a\u0430\u0440\u0442\u043e\u0447\u043d\u044b\u0439 \u0414\u043e\u043c\u0438\u043a (\u044d\u043a\u0441\u0442\u0440\u0430)",r.a.createElement("br",null),"14.11 - \u0421\u0443\u0431\u0431\u043e\u0442\u0430: \u041a\u043e\u0440\u043e\u043d\u0430 - \u041f\u0430\u0442\u0440\u0438\u043a \u041c\u0435\u043b\u0440\u043e\u0443\u0437 (\u044d\u043a\u0441\u0442\u0440\u0430)",r.a.createElement("br",null),"15.11 - \u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435: \u0418\u043d\u0434\u0438\u0430\u043d\u0430 \u0414\u0436\u043e\u043d\u0441 \u0438 \u0425\u0440\u0430\u043c \u0441\u0443\u0434\u044c\u0431\u044b (\u0444\u0438\u043b\u044c\u043c, 1984) - \u0418\u043d\u0434\u0438\u0430\u043d\u0430 \u0414\u0436\u043e\u043d\u0441 \u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043a\u0440\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u043f\u043e\u0445\u043e\u0434 (\u0444\u0438\u043b\u044c\u043c, 1989)",r.a.createElement("br",null),"16.11 - \u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a: \u0421\u0442\u0440\u0430\u0441\u0442\u044c (\u0444\u0438\u043b\u044c\u043c, 1969) - Kara no Kyoukai (\u0444\u0438\u043b\u044c\u043c\u044b 2-3)",r.a.createElement("br",null),"17.11 - \u0412\u0442\u043e\u0440\u043d\u0438\u043a: \u041f\u0440\u043e \u0424\u0435\u0434\u043e\u0442\u0430-\u0441\u0442\u0440\u0435\u043b\u044c\u0446\u0430, \u0443\u0434\u0430\u043b\u043e\u0433\u043e \u043c\u043e\u043b\u043e\u0434\u0446\u0430 (\u0444\u0438\u043b\u044c\u043c, 1988) - \u0421\u043e\u0432\u0435\u0442\u0441\u043a\u0438\u0435 \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438 (\u044d\u043a\u0441\u0442\u0440\u0430) - \u0427\u0435\u043b\u043e\u0432\u0435\u043a \u0441 \u0417\u0435\u043c\u043b\u0438 (\u0444\u0438\u043b\u044c\u043c, 2007)",r.a.createElement("br",null),r.a.createElement("p",null,"\u041e\u0447\u0435\u0440\u0435\u0434\u044c \u043f\u043e \u0441\u0435\u0440\u0438\u0430\u043b\u0430\u043c: Haikyuu - Getter Robo - \u041e\u0441\u0442\u0440\u044b\u0435 \u041a\u043e\u0437\u044b\u0440\u044c\u043a\u0438 - \u041f\u0438\u043d\u0433\u0432\u0438\u043d\u0438\u0439 \u0411\u0430\u0440\u0430\u0431\u0430\u043d")))},M=a(227),T=[{menuItem:"\u041c\u0435\u0441\u044f\u0446",render:function(){return r.a.createElement(M.a.Pane,{attached:!1},r.a.createElement("div",{className:"timetable-content"},"\u043a\u0435\u0444\u0438\u0440\u043d\u043d - 18000",r.a.createElement("br",null),"daniloo - 11300",r.a.createElement("br",null),"\u0445\u0440\u043e\u043b\u043b\u043e - 8000",r.a.createElement("br",null),"richard - 3650",r.a.createElement("br",null),"kvincius - 3200",r.a.createElement("br",null),"Jino_90 - 1600",r.a.createElement("br",null),"Max_of_Shadows - 1500",r.a.createElement("br",null),"stradallisa - 1250",r.a.createElement("br",null),"\u0432\u043b\u0430\u0434, \u0441\u044b\u043d \u0441\u0432\u0430\u0440\u043e\u0433\u0430 - 800",r.a.createElement("br",null),"alexado - 100",r.a.createElement("br",null)))}},{menuItem:"\u0412\u0441\u0435 \u0432\u0440\u0435\u043c\u044f",render:function(){return r.a.createElement(M.a.Pane,{attached:!1},r.a.createElement("div",{className:"timetable-content"},"daniloo - 11600",r.a.createElement("br",null),"\u043a\u0435\u0444\u0438\u0440\u043d\u043d - 8000",r.a.createElement("br",null),"\u0445\u0440\u043e\u043b\u043b\u043e - 8000",r.a.createElement("br",null),"Jino_90 - 6000",r.a.createElement("br",null),"stradallisa - 3650",r.a.createElement("br",null),"richard - 3650",r.a.createElement("br",null),"Max_of_Shadows - 3500",r.a.createElement("br",null),"alexado - 3100",r.a.createElement("br",null),"kvincius - 3000",r.a.createElement("br",null),"\u0432\u043b\u0430\u0434, \u0441\u044b\u043d \u0441\u0432\u0430\u0440\u043e\u0433\u0430 - 1800",r.a.createElement("br",null)))}}],H=function(){return r.a.createElement("div",{className:"timetable",style:{width:"29%"}},r.a.createElement("h4",null,r.a.createElement("span",{role:"img","aria-label":"cup"},"\ud83c\udfc6")," ","\u0422\u043e\u043f \u0434\u043e\u043d\u0430\u0442\u0435\u0440\u043e\u0432"),r.a.createElement(M.a,{menu:{secondary:!0,pointing:!0},panes:T}))},P=a(163),z=a(160),q=a(207),U=a(75),B=a(164),V=a(226),F=a(221),G=a(140),L=a(224);C.a.defaults.xsrfHeaderName="X-CSRFTOKEN",C.a.defaults.xsrfCookieName="csrftoken",C.a.defaults.withCredentials=!0;var Z=function(e,t,a,n,r,l){return{type:"AUTH_SUCCESS",token:e,username:t,watchtime:a,userID:n,username_color:r,roleID:l}},W=function(e){return{type:"AUTH_FAIL",error:e}},K=function(){return C.a.get("".concat(w,"/api/auth/logout/"),{headers:{"Content-Type":"application/json"}}).then((function(){S.socketRef&&S.disconnect(),localStorage.clear()})),{type:"AUTH_LOGOUT"}},X=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:"",email:"",password1:"",password2:""},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.email,l=a.password1,s=a.password2;e.props.signup(n,r,l,s)},e.handleChange=function(t){e.setState(Object(U.a)({},t.target.name,t.target.value))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.password1,l=e.password2,s=this.props,c=s.error,o=s.loading;return s.token?r.a.createElement(p.a,{to:"/"}):r.a.createElement(B.a,{textAlign:"center",style:{height:"100px"},verticalAlign:"middle"},r.a.createElement(B.a.Column,{style:{maxWidth:450}},r.a.createElement(V.a,{as:"h2",color:"teal",textAlign:"center"},"Signup to your account"),c&&r.a.createElement("p",null,this.props.error.message),r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{size:"large",onSubmit:this.handleSubmit},r.a.createElement(G.a,{stacked:!0},r.a.createElement(F.a.Input,{onChange:this.handleChange,value:t,name:"username",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username"}),r.a.createElement(F.a.Input,{onChange:this.handleChange,value:a,name:"email",fluid:!0,icon:"mail",iconPosition:"left",placeholder:"E-mail address"}),r.a.createElement(F.a.Input,{onChange:this.handleChange,fluid:!0,value:n,name:"password1",icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),r.a.createElement(F.a.Input,{onChange:this.handleChange,fluid:!0,value:l,name:"password2",icon:"lock",iconPosition:"left",placeholder:"Confirm password",type:"password"}),r.a.createElement(q.a,{color:"teal",fluid:!0,size:"large",loading:o,disabled:o},"Signup"))),r.a.createElement(L.a,null,"Already have an account? ",r.a.createElement("span",null,"\xa0\xa0")," ",this.props.loginButton))))}}]),a}(r.a.Component),J=Object(d.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token}}),(function(e){return{signup:function(t,a,n,r){return e(function(e,t,a,n){return function(r){r({type:"AUTH_START"}),C.a.post("".concat(w,"/api/auth/signup/"),{username:e,email:t,password1:a,password2:n}).then((function(){C.a.get("".concat(w,"/api/general/user/"),{headers:{"Content-Type":"application/json"}}).then((function(e){localStorage.setItem("token","true"),localStorage.setItem("username",e.data.username),localStorage.setItem("watchtime",e.data.watchtime),localStorage.setItem("userID",e.data.id),localStorage.setItem("username_color",e.data.username_color),localStorage.setItem("roleID",e.data.role);var t=e.data.username,a=e.data.watchtime,n=e.data.id,l=e.data.username_color,s=e.data.role;r(Z("true",t,a,n,l,s))}))})).catch((function(e){r(W(e))}))}}(t,a,n,r))}}}))(X),Y=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e.handleChange=function(t){e.setState(Object(U.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;e.props.login(n,r)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.error,a=e.loading,n=e.token,l=this.state,s=l.username,c=l.password;return n?r.a.createElement(p.a,{to:"/"}):r.a.createElement(B.a,{textAlign:"center",style:{height:"100px"},verticalAlign:"middle"},r.a.createElement(B.a.Column,{style:{maxWidth:450}},r.a.createElement(V.a,{as:"h2",color:"teal",textAlign:"center"},"Log-in to your account"),t&&r.a.createElement("p",null,this.props.error.message),r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{size:"large",onSubmit:this.handleSubmit},r.a.createElement(G.a,{stacked:!0},r.a.createElement(F.a.Input,{onChange:this.handleChange,value:s,name:"username",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username"}),r.a.createElement(F.a.Input,{onChange:this.handleChange,fluid:!0,value:c,name:"password",icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),r.a.createElement(q.a,{color:"teal",fluid:!0,size:"large",loading:a,disabled:a},"Login"))),r.a.createElement(L.a,null,"New to us? ",r.a.createElement("span",null,"\xa0\xa0")," ",this.props.signupButton))))}}]),a}(r.a.Component),Q=Object(d.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token}}),(function(e){return{login:function(t,a){return e(function(e,t){return function(a){a({type:"AUTH_START"}),C.a.post("".concat(w,"/api/auth/login/"),{username:e,password:t},{credentials:"include"}).then((function(){C.a.get("".concat(w,"/api/general/user/"),{headers:{"Content-Type":"application/json"}}).then((function(e){localStorage.setItem("token","true"),localStorage.setItem("username",e.data.username),localStorage.setItem("watchtime",e.data.watchtime),localStorage.setItem("userID",e.data.id),localStorage.setItem("username_color",e.data.username_color),localStorage.setItem("roleID",e.data.role);var t=e.data.username,n=e.data.watchtime,r=e.data.id,l=e.data.username_color,s=e.data.role;a(Z("true",t,n,r,l,s))}))})).catch((function(e){a(W(e))}))}}(t,a))}}}))(Y);var _=function(){var e=Object(n.useState)(!1),t=Object(P.a)(e,2),a=t[0],l=t[1];function s(){l((function(e){return!e}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chatHeader"},r.a.createElement(z.a,null,r.a.createElement(z.a.Item,null,r.a.createElement(x.a,{name:"vk"})),r.a.createElement(z.a.Item,null,r.a.createElement(x.a,{name:"google"})))),r.a.createElement("div",{className:"messages"},Array.from({length:10},(function(e,t){return r.a.createElement("br",{key:t})})),a?r.a.createElement(J,{loginButton:r.a.createElement(q.a,{compact:!0,icon:!0,color:"google plus",content:"Login",onClick:s})}):r.a.createElement(Q,{signupButton:r.a.createElement(q.a,{compact:!0,icon:!0,color:"google plus",content:"Sign Up",onClick:s})})))},$=a(223),ee=a(219),te=a(220),ae={streamer:"\u0421\u0442\u0440\u0438\u043c\u0435\u0440",administrator:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u044b",moderator:"\u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440\u044b",vip:"VIP",user:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"},ne=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,usersList:!1,users:[]},e.usersList=function(){e.setState((function(e){return{usersList:!e.usersList}})),e.state.usersList||(C.a.defaults.xsrfHeaderName="X-CSRFTOKEN",C.a.defaults.xsrfCookieName="csrftoken",C.a.get("".concat(w,"/api/broadcasts/").concat(e.props.chatID,"/watchers/"),{headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t.data.result),e.setState({loading:!1,users:t.data.result})})).catch((function(e){return console.log("error "+e)})))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state.users;return r.a.createElement(r.a.Fragment,null,this.state.usersList?r.a.createElement("div",{className:"messages"},r.a.createElement($.a,null,r.a.createElement("br",null),r.a.createElement(ee.a,{style:{textAlign:"center"}}),r.a.createElement("br",null),Object.keys(t).map((function(e,a){return r.a.createElement($.a.Item,{key:a},r.a.createElement($.a.Header,{content:ae[e]}),r.a.createElement($.a,null,t[e].map((function(e){return r.a.createElement($.a.Item,{key:e.id,content:e.username,className:"userLink",style:{color:"#6441a5"},as:"a"})}))),r.a.createElement("br",null))})))):r.a.createElement("div",null),r.a.createElement("div",{className:"chatHeader"},r.a.createElement(q.a,{content:this.props.watchers,onClick:this.usersList,icon:"users",basic:!0,compact:!0}),r.a.createElement(te.a,{trigger:r.a.createElement("span",null,r.a.createElement(E.a,{avatar:!0,src:"https://static-cdn.jtvnw.net/jtv_user_pictures/panel-148316617-image-3036e147-20a6-490c-ae31-9cfa6cdd73ad"}),this.props.username),pointing:"top right",icon:"dropdown",style:{float:"right",height:"38px",margin:"-5px 10px 0 0",padding:"8px 11px 0 11px",background:"#EFEFEF",fontWeight:"normal",fontSize:"14px",borderRadius:"13px"}},r.a.createElement(te.a.Menu,null,r.a.createElement(te.a.Item,null,r.a.createElement(x.a,{name:"user"}),"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement(te.a.Item,null,r.a.createElement(x.a,{name:"settings"}),"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement(te.a.Item,{onClick:function(){return e.props.logout()}},r.a.createElement(x.a,{name:"sign out"}),"\u0412\u044b\u0445\u043e\u0434")))))}}]),a}(r.a.Component),re=Object(d.b)((function(e){return{watchers:e.message.watchers,username:e.auth.username}}),(function(e){return{logout:function(){return e(K())}}}))(ne),le=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;C.a.defaults.xsrfHeaderName="X-CSRFTOKEN",C.a.defaults.xsrfCookieName="csrftoken",C.a.defaults.withCredentials=!0,C.a.get("".concat(w,"/api/broadcasts/"),{headers:{"Content-Type":"application/json"},params:{limit:1,is_active:!0}}).then((function(t){e.setState({loading:!1,chatID:t.data.result[0].id,title:t.data.result[0].title,active:t.data.result[0].is_active})})).catch((function(){C.a.get("".concat(w,"/api/broadcasts/"),{headers:{"Content-Type":"application/json"},params:{limit:1}}).then((function(t){e.setState({loading:!1,chatID:t.data.result[0].id,title:t.data.result[0].title,active:t.data.result[0].is_active})})).catch((function(e){return console.log("error "+e)}))}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"headerback"},r.a.createElement("header",{className:"headerWrraper"},r.a.createElement("nav",{className:"menuVez"},r.a.createElement("div",{className:"spacebet"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://vezaks.com/"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://vezaks.com/serialyi"},"\u0421\u0435\u0440\u0438\u0430\u043b\u044b")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://vezaks.com/filmyi"},"\u0424\u0438\u043b\u044c\u043c\u044b")),r.a.createElement("li",{className:"last"},r.a.createElement("a",{rel:"nofollow",href:"https://vezaks.com/igryi"},"\u0418\u0433\u0440\u044b"))),r.a.createElement("a",{href:"https://www.twitch.tv/vezaks",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"streamon","data-description":"$title"},r.a.createElement("div",{className:"blink"}),"\u0421\u0442\u0440\u0438\u043c \u043e\u043d\u043b\u0430\u0439\u043d")))))),r.a.createElement("hr",{className:"line-opacity"}),r.a.createElement("div",{className:"playerBox"},r.a.createElement(N.a,{poster:"https://sun9-35.userapi.com/c849532/v849532312/15082b/efNn97HREgo.jpg",url:"//d2zihajmogu5jn.cloudfront.net/bipbop-advanced/bipbop_16x9_variant.m3u8",autoplay:!1,controls:!0,height:"85%",className:"videoPlayer"}),r.a.createElement("div",{className:"contentStream"},r.a.createElement("h1",null,this.state.title),r.a.createElement("div",{className:"flex-block"},r.a.createElement(R,null),r.a.createElement(H,null)),r.a.createElement("div",{className:"soc-button"},r.a.createElement("a",{href:"/#",target:"_blank",rel:"nofollow",className:"stream-button",style:{color:"#252525"}},r.a.createElement(x.a,{name:"money",size:"large",style:{marginRight:"10px"}}),"\u0417\u0430\u0434\u043e\u043d\u0430\u0442\u0438\u0442\u044c"),r.a.createElement("a",{href:"/#",target:"_blank",rel:"nofollow",className:"stream-button",style:{color:"#4A76A8"}},r.a.createElement(x.a,{name:"vk",size:"large"})," \u0413\u0440\u0443\u043f\u043f\u0430 \u0412\u043a"),r.a.createElement("a",{href:"/#",target:"_blank",rel:"nofollow",className:"stream-button",style:{color:"#FF0000"}},r.a.createElement(x.a,{name:"youtube",size:"large"})," \u042e\u0442\u0443\u0431")))),this.props.authenticated?this.state.loading?r.a.createElement("div",null):r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{chatID:this.state.chatID,active:this.state.active}),r.a.createElement(re,{chatID:this.state.chatID})):r.a.createElement(_,null))}}]),a}(r.a.Component),se=Object(d.b)((function(e){return{authenticated:null!==e.auth.token,roleID:e.auth.roleID}}))(le),ce={3:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440",2:"\u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440",4:"\u0421\u0442\u0440\u0438\u043c\u0435\u0440",1:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"},oe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return void 0===this.props.token?r.a.createElement(p.a,{to:"/"}):r.a.createElement("div",{className:"contact-profile"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),null!==this.props.username?r.a.createElement(g,null,r.a.createElement("img",{src:"https://static-cdn.jtvnw.net/jtv_user_pictures/panel-148316617-image-3036e147-20a6-490c-ae31-9cfa6cdd73ad",alt:""}),r.a.createElement("p",null,"User ID: ",this.props.userID),r.a.createElement("p",null,"Username: ",this.props.username),r.a.createElement("p",null,"Role: ",ce[this.props.roleID]),r.a.createElement("p",null,"Watchtime: ",this.props.watchtime),r.a.createElement("p",null,"Username color: ",this.props.username_color)):null)}}]),a}(r.a.Component),ue=Object(d.b)((function(e){return{username:e.auth.username,watchtime:e.auth.watchtime,username_color:e.auth.username_color,userID:e.auth.userID,roleID:e.auth.roleID,token:e.auth.token}}))(oe),ie=function(){return r.a.createElement(g,null,r.a.createElement(p.b,{exact:!0,path:"/",component:se}),r.a.createElement(p.b,{exact:!0,path:"/profile/",component:ue}))},me=(a(205),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),n=t.call(this,e),S.addCallbacks(n.props.addMessage.bind(Object(o.a)(n)),n.props.updateWatchersCount.bind(Object(o.a)(n))),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.isAuthenticated||this.props.onTryAutoSignup()}}]),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(ie,null))}}]),a}(n.Component)),he=Object(d.b)((function(e){return{isAuthenticated:null!==e.auth.token}}),(function(e){return{onTryAutoSignup:function(){return e((function(e){var t=localStorage.getItem("token"),a=localStorage.getItem("username"),n=localStorage.getItem("watchtime"),r=localStorage.getItem("userID"),l=localStorage.getItem("username_color"),s=localStorage.getItem("roleID");C.a.get("".concat(w,"/api/general/user/"),{headers:{"Content-Type":"application/json"}}).then((function(t){localStorage.setItem("token","true"),localStorage.setItem("username",t.data.username),localStorage.setItem("watchtime",t.data.watchtime),localStorage.setItem("userID",t.data.id),localStorage.setItem("username_color",t.data.username_color),localStorage.setItem("roleID",t.data.role);var a=t.data.username,n=t.data.watchtime,r=t.data.id,l=t.data.username_color,s=t.data.role;e(Z("true",a,n,r,l,s))})).catch((function(){})),e(void 0===t?K():Z(t,a,n,r,l,s))}))},setProfile:function(t,a,n){return e(function(e,t,a){return{type:"AUTH_UPDATE",username:e,watchtime:t,username_color:a}}(t,a,n))},addMessage:function(t){return e(function(e){return{type:"ADD_MESSAGE",message:e,author:e.author.username}}(t))},setMessages:function(t){return e(I(t))},updateWatchersCount:function(t){return e(function(e){return{type:"UPDATE_WATCHERS_COUNT",message:e.watchers_count}}(t))}}}))(me);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var de=a(68),pe=a(159),ge=a(162),fe=function(e,t){return Object(v.a)(Object(v.a)({},e),t)},Ee={messages:[],watchers:null},be=function(e,t){return fe(e,{messages:[].concat(Object(ge.a)(e.messages),[t.message])})},ve=function(e,t){return fe(e,{watchers:t.message})},we=function(e,t){return fe(e,{messages:t.messages.reverse()})},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return be(e,t);case"UPDATE_WATCHERS_COUNT":return ve(e,t);case"SET_MESSAGES":return we(e,t);default:return e}},ke={token:null,error:null,loading:!1,username:null,watchtime:null,userID:null,username_color:null,roleID:null},Se=function(e,t){return fe(e,{error:null,loading:!0})},ye=function(e,t){return fe(e,{token:t.token,error:null,loading:!1,username:t.username,watchtime:t.watchtime,userID:t.userID,username_color:t.username_color,roleID:t.roleID})},Ce=function(e,t){return fe(e,{error:t.error,loading:!1})},Ie=function(e,t){return fe(e,{token:null,username:null,watchtime:null,userID:null,username_color:null,roleID:null})},Oe=function(e,t){return fe(e,{username:t.username,watchtime:t.watchtime,username_color:t.username_color})},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Se(e);case"AUTH_SUCCESS":return ye(e,t);case"AUTH_FAIL":return Ce(e,t);case"AUTH_LOGOUT":return Ie(e);case"AUTH_UPDATE":return Oe(e,t);default:return e}},De=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||de.d,Ne=Object(de.c)({auth:Ae,message:je}),xe=Object(de.e)(Ne,De(Object(de.a)(pe.a))),Re=r.a.createElement(d.a,{store:xe},r.a.createElement(he,null));s.a.render(Re,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[177,1,2]]]);
//# sourceMappingURL=main.3e54d30b.chunk.js.map