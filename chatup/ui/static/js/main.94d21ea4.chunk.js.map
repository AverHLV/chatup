{"version":3,"sources":["hoc/hoc.js","settings.js","websocket.js","store/actions/message.js","store/actions/actionTypes.js","components/CardProfile.js","components/Image.js","containers/Chat.js","store/actions/image.js","store/actions/auth.js","containers/ChatHeader.js","containers/Signup.js","containers/Login.js","components/AuthForm.js","components/TabDonations.js","components/TabSchedule.js","containers/Profile.js","components/Player.js","containers/Home.js","routes.js","App.js","serviceWorker.js","store/utility.js","store/reducers/message.js","store/reducers/image.js","store/reducers/auth.js","index.js"],"names":["Hoc","props","children","HOST_URL","SOCKET_URL","WebSocketService","callbacks","this","socketRef","instance","chatUrl","path","WebSocket","onopen","console","log","onmessage","e","socketNewMessage","data","onerror","content","onclose","event","wasClean","connect","close","parsedData","JSON","parse","type","Object","keys","length","message","sendMessage","text","newMessageCallback","updateWatchersCountCallback","send","stringify","err","readyState","WebSocketInstance","getInstance","axios","defaults","xsrfHeaderName","xsrfCookieName","setMessages","messages","CardProfile","Card","src","wrapped","ui","Content","Header","username","Meta","className","Description","extra","Icon","as","name","Image","alt","Chat","state","messageChangeHandler","setState","target","value","sendMessageHandler","preventDefault","messageObject","newChatMessage","renderMessages","map","Comment","key","id","Author","images","author","role_icon","Popup","trigger","Label","basic","active","style","color","username_color","on","scrollToBottom","messagesEnd","scrollIntoView","behavior","initialiseChat","fetchMessages","chatID","disconnect","num","Group","height","overflowY","ref","el","autoComplete","onSubmit","Input","onChange","required","placeholder","fluid","React","Component","image","dispatch","get","headers","then","res","result","catch","withCredentials","authSuccess","token","authFail","error","fetchUserData","watchTime","watchtime","userID","usernameColor","roleID","role","authUpdate","localStorage","clear","authCheckState","getItem","rolesAdapt","ChatHeader","usersList","fetchWatchers","watchersCount","watchers","List","Search","textAlign","Loader","i","Item","user","Button","onClick","icon","compact","loading","Dropdown","avatar","pointing","float","margin","padding","background","fontWeight","fontSize","borderRadius","Menu","profileTab","logout","auth","RegistrationForm","email","password1","password2","handleSubmit","signup","handleChange","to","Grid","verticalAlign","Column","maxWidth","Fragment","Form","size","Segment","stacked","iconPosition","disabled","Message","changeAuth","post","credentials","setItem","authSignup","LoginForm","password","login","authLogin","AuthForm","useState","setAuth","prev","Array","from","_","Signup","Login","panes","menuItem","render","Tab","Pane","attached","TabDonations","width","aria-label","menu","secondary","TabSchedule","schedule","jsonp","response","items","getSchedule","marginRight","split","str","textIndent","roles","3","2","4","1","5","Profile","activeItem","handleItemClick","position","celled","Player","pip","url","controls","stopOnUnmount","HomepageLayout","profile","params","limit","is_active","title","href","rel","data-description","isAuthenticated","BaseRouter","exact","component","App","addCallbacks","addMessage","bind","updateWatchersCount","onTryAutoSignup","actions","messageActions","watchers_count","Boolean","window","location","hostname","match","updateObject","oldObject","updatedProperties","initialState","action","reverse","setWatchers","reducer","setImages","authStart","_action","authLogout","composeEnhances","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","authReducer","messageReducer","imageReducer","store","createStore","applyMiddleware","thunk","app","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.94d21ea4.chunk.js","sourcesContent":["const Hoc = props => props.children;\n\nexport default Hoc;","let DEBUG = true;\nlet HOST_URL = \"http://localhost:8000\";\nlet SOCKET_URL = \"ws://localhost:8000\";\nif (DEBUG) {\n  HOST_URL = \"https://chatup-vezaks.herokuapp.com\";\n  SOCKET_URL = \"wss://chatup-vezaks.herokuapp.com\";\n}\n\nexport { HOST_URL, SOCKET_URL };","import { SOCKET_URL } from \"./settings\";\n\nclass WebSocketService {\n  static instance = null;\n  callbacks = {};\n\n  static getInstance() {\n    if (!WebSocketService.instance) {\n      WebSocketService.instance = new WebSocketService();\n    }\n    return WebSocketService.instance;\n  }\n\n  constructor() {\n    this.socketRef = null;\n  }\n\n  connect(chatUrl) {\n    const path = `${SOCKET_URL}/api/ws/rooms/${chatUrl}/`;\n    this.socketRef = new WebSocket(path);\n    this.socketRef.onopen = () => {\n      console.log(\"WebSocket open\");\n    };\n    this.socketRef.onmessage = e => {\n      this.socketNewMessage(e.data);\n    };\n    this.socketRef.onerror = e => {\n      console.log(e.content);\n    };\n    this.socketRef.onclose = (event) => {\n      if (!event.wasClean) {\n        console.log(\"WebSocket closed let's reopen\");\n        this.connect(chatUrl);\n      }\n    };\n  }\n\n  disconnect() {\n    this.socketRef.close(1000, \"Closing Connection Normally\");\n  }\n\n  socketNewMessage(data) {\n    const parsedData = JSON.parse(data);\n    const type = parsedData.type;\n    if (Object.keys(this.callbacks).length === 0) {\n      return;\n    }\n    if (type === \"send_message\") {\n      this.callbacks[\"new_message\"](parsedData.content);\n    }\n    if (type === \"update_watchers_count\") {\n      this.callbacks[\"update_watchers_count\"](parsedData.content);\n    }\n  }\n\n  newChatMessage(message) {\n    this.sendMessage({\n      type: \"create_message\",\n      content: {text: message.content}\n    });\n  }\n\n  addCallbacks(newMessageCallback, updateWatchersCountCallback) {\n    this.callbacks[\"new_message\"] = newMessageCallback;\n    this.callbacks[\"update_watchers_count\"] = updateWatchersCountCallback;\n  }\n\n  sendMessage(data) {\n    try {\n      this.socketRef.send(JSON.stringify({ ...data }));\n    } catch (err) {\n      console.log(err.message);\n    }\n  }\n\n  state() {\n    return this.socketRef.readyState;\n  }\n}\n\nconst WebSocketInstance = WebSocketService.getInstance();\n\nexport default WebSocketInstance;","import axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\nimport { HOST_URL } from \"../../settings\";\n\naxios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\naxios.defaults.xsrfCookieName = \"csrftoken\";\n\nexport const addMessage = message => {\n  return {\n    type: actionTypes.ADD_MESSAGE,\n    message: message\n  };\n};\n\nexport const updateWatchersCount = message => {\n  return {\n    type: actionTypes.UPDATE_WATCHERS_COUNT,\n    watchersCount: message.watchers_count\n  };\n};\n\nexport const setMessages = messages  => {\n  return {\n    type: actionTypes.SET_MESSAGES,\n    messages: messages\n  };\n};\n\nexport const setWatchers = watchers => {\n  return {\n    type: actionTypes.SET_WATCHERS,\n    watchers: watchers\n  };\n};\n\nexport const fetchMessages = (chatID) => {\n  return dispatch => {\n    axios.get(`${HOST_URL}/api/broadcasts/${chatID}/messages/`, {\n      headers: { \"Content-Type\": \"application/json\" }\n    })\n      .then(res => {\n        dispatch(setMessages(res.data.result))\n      })\n      .catch(err => console.log(\"error \" + err));\n  };\n};\n\nexport const fetchWatchers = (chatID) => {\n  return dispatch => {\n    axios.get(`${HOST_URL}/api/broadcasts/${chatID}/watchers/`, {\n      headers: { \"Content-Type\": \"application/json\" }\n    })\n      .then(res => {\n        dispatch(setWatchers(res.data.result))\n      })\n      .catch(err => console.log(\"error \" + err));\n  };\n};","export const AUTH_START = \"AUTH_START\";\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\nexport const AUTH_FAIL = \"AUTH_FAIL\";\nexport const AUTH_LOGOUT = \"AUTH_LOGOUT\";\nexport const AUTH_UPDATE = \"AUTH_UPDATE\";\n\nexport const ADD_MESSAGE = \"ADD_MESSAGE\";\nexport const SET_MESSAGES = \"SET_MESSAGES\";\nexport const UPDATE_WATCHERS_COUNT = \"UPDATE_WATCHERS_COUNT\";\nexport const SET_WATCHERS = \"SET_WATCHERS\";\n\nexport const SET_IMAGES = \"SET_IMAGES\";","import React from \"react\"\nimport { Card, Icon, Image } from \"semantic-ui-react\"\n\nfunction CardProfile (props) {\n\n  return (\n    <Card>\n      <Image src='https://react.semantic-ui.com/images/avatar/large/matthew.png' wrapped ui={false} />\n      <Card.Content>\n        <Card.Header>{props.username}</Card.Header>\n\n        <Card.Meta>\n          <span className='date'>Joined in 2015</span>\n        </Card.Meta>\n\n        <Card.Description>\n          Matthew is a musician living in Nashville.\n        </Card.Description>\n      </Card.Content>\n\n      <Card.Content extra>\n        <Icon as={'a'} name='user' />\n        22 Friends\n      </Card.Content>\n    </Card>\n  )\n}\n\nexport default CardProfile","import React from \"react\";\n\nconst Image = ({ data }) => <img className=\"message-img\" alt='img' src={`data:image/jpeg;base64,${data}`} />\n\nexport default Image","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Hoc from \"../hoc/hoc\";\nimport { Input, Image, Comment, Popup, Label } from \"semantic-ui-react\"\nimport WebSocketInstance from \"../websocket\";\nimport { fetchMessages } from \"../store/actions/message\";\nimport CardProfile from \"../components/CardProfile\";\nimport MessageImage from \"../components/Image\";\n\n/**\n * @return {string}\n */\nfunction NumScroll(num) {\n  if (num > 16) {\n    return 'scroll'\n  } else {return 'null'}\n}\n\nclass Chat extends React.Component {\n  state = {\n    message: \"\",\n  };\n\n  initialiseChat() {\n    this.props.fetchMessages(this.props.chatID)\n    if (this.props.active) {\n      WebSocketInstance.connect(this.props.chatID);\n    }\n  }\n\n  constructor(props) {\n    super(props);\n    this.initialiseChat();\n  }\n\n  messageChangeHandler = event => {\n    this.setState({ message: event.target.value });\n  };\n\n  sendMessageHandler = e => {\n    e.preventDefault();\n    const messageObject = {\n      content: this.state.message\n    };\n    WebSocketInstance.newChatMessage(messageObject);\n    this.setState({ message: \"\" });\n  };\n\n  renderMessages = messages => {\n    return messages.map((message) => (\n      <Comment key={message.id}>\n        <Comment.Content>\n          <Comment.Author>\n            <MessageImage data={this.props.images[message.author.role_icon - 1]['image']}/>\n            <Image className=\"message-img\" src='https://static-cdn.jtvnw.net/jtv_user_pictures/panel-148316617-image-3036e147-20a6-490c-ae31-9cfa6cdd73ad' />\n            <Image className=\"message-img\" src='data:image/png;base64,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' />\n            <Popup\n              content={\n                <CardProfile username={message.author.username}/>\n              }\n              trigger={\n                <Label\n                  as={'a'}\n                  basic\n                  active\n                  style={{color: '#' + message.author.username_color}}\n                  content={message.author.username}\n                />\n              }\n              on='click'\n            />\n          </Comment.Author>\n\n          <span>&nbsp;&nbsp;</span> {message.text}\n        </Comment.Content>\n      </Comment>\n    ));\n  };\n\n  scrollToBottom = () => {\n    this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  componentDidMount() {\n    this.scrollToBottom();\n  }\n\n  componentDidUpdate() {\n    this.scrollToBottom();\n  }\n\n  componentWillUnmount() {\n    if (WebSocketInstance.socketRef) {\n      WebSocketInstance.disconnect();\n    }\n  }\n\n  render() {\n    const { messages, active } = this.props;\n\n    return (\n      <Hoc>\n        <div className=\"messages\">\n          <Comment.Group style={{height: '90%', overflowY: NumScroll(17)}}>\n\n          {messages && this.renderMessages(messages)}\n\n          <div\n            ref={el => {\n              this.messagesEnd = el;\n            }}\n          />\n\n          </Comment.Group>\n        </div>\n\n        <div className=\"message-input\">\n          {active ?\n            <form autoComplete=\"off\" onSubmit={this.sendMessageHandler}>\n              <div className=\"wrap\">\n                <Input\n                  onChange={this.messageChangeHandler}\n                  value={this.state.message}\n                  required\n                  id=\"chat-message-input\"\n                  type=\"text\"\n                  placeholder=\"Write your message...\"\n                  fluid={true}\n                />\n              </div>\n            </form> : 'This stream is offline'\n          }\n        </div>\n      </Hoc>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    messages: state.message.messages,\n    images: state.image.images\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchMessages: (chatID) => dispatch(fetchMessages(chatID))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Chat);","import axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\nimport { HOST_URL } from \"../../settings\";\n\naxios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\naxios.defaults.xsrfCookieName = \"csrftoken\";\n\nexport const setImages = images  => {\n  return {\n    type: actionTypes.SET_IMAGES,\n    images: images\n  };\n};\n\nexport const fetchImages = () => {\n  return dispatch => {\n    axios.get(`${HOST_URL}/api/images/`, {\n      headers: { \"Content-Type\": \"application/json\" }\n    })\n      .then(res => {\n        dispatch(setImages(res.data));\n      })\n      .catch(err => {\n        console.log(\"error \" + err)\n      });\n  }\n}","import axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\nimport { HOST_URL } from \"../../settings\";\nimport WebSocketInstance from \"../../websocket\";\nimport { fetchImages } from \"./image\";\n\naxios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\naxios.defaults.xsrfCookieName = \"csrftoken\";\naxios.defaults.withCredentials = true\n\nexport const authStart = () => {\n  return {\n    type: actionTypes.AUTH_START\n  }\n};\n\nexport const authUpdate = (username, watchTime, userID, usernameColor, roleID) => {\n  return {\n    type: actionTypes.AUTH_UPDATE,\n    username: username,\n    watchTime: watchTime,\n    userID: userID,\n    usernameColor: usernameColor,\n    roleID: roleID\n  };\n};\n\nexport const authSuccess = (token) => {\n  return {\n    type: actionTypes.AUTH_SUCCESS,\n    token: token\n  }\n};\n\nexport const authFail = error => {\n  return {\n    type: actionTypes.AUTH_FAIL,\n    error: error\n  }\n};\n\nexport const logout = () => {\n  axios.get(`${HOST_URL}/api/auth/logout/`, {\n    headers: { \"Content-Type\": \"application/json\" }\n  })\n    .then(() => {\n      if (WebSocketInstance.socketRef) {\n        WebSocketInstance.disconnect();\n      }\n      localStorage.clear();\n    });\n\n  return {\n    type: actionTypes.AUTH_LOGOUT\n  };\n};\n\nexport const fetchUserData = () => {\n  return dispatch => {\n    axios.get(`${HOST_URL}/api/general/user/`, {\n      headers: { \"Content-Type\": \"application/json\" }\n    })\n      .then(res => {\n        const username = res.data.username;\n        const watchTime = res.data.watchtime;\n        const userID = res.data.id;\n        const usernameColor = res.data.username_color;\n        const roleID = res.data.role;\n\n        dispatch(authUpdate(username, watchTime, userID, usernameColor, roleID));\n      })\n      /* 401 here is ok, means token has expired */\n      .catch(err => {\n        console.log(\"error \" + err)\n        localStorage.clear();\n      });\n  }\n};\n\nexport const authLogin = (username, password) => {\n  return dispatch => {\n    dispatch(authStart());\n    axios.post(`${HOST_URL}/api/auth/login/`, {\n      username: username,\n      password: password\n    }, { credentials: 'include' })\n      .then(() => {\n        const token = \"true\";\n        localStorage.setItem('token', token);\n\n        dispatch(authSuccess(token));\n        dispatch(fetchUserData());\n      })\n      .catch(err => {\n        dispatch(authFail(err))\n      })\n  }\n};\n\nexport const authSignup = (username, email, password1, password2) => {\n  return dispatch => {\n    dispatch(authStart());\n    axios.post(`${HOST_URL}/api/auth/signup/`, {\n      username: username,\n      email: email,\n      password1: password1,\n      password2: password2\n    }, { credentials: 'include' } )\n      .then(() => {\n        const token = \"true\";\n        localStorage.setItem('token', token);\n\n        dispatch(authSuccess(token));\n        dispatch(fetchUserData());\n      })\n      .catch(err => {\n        dispatch(authFail(err))\n      })\n  }\n};\n\nexport const authCheckState = () => {\n  return dispatch => {\n    const token = localStorage.getItem('token');\n    if (token !== null) {\n      dispatch(authSuccess(token));\n      dispatch(fetchImages());\n      dispatch(fetchUserData());\n    }\n  }\n};","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {Button, Dropdown, Icon, Image, List, Loader, Search} from \"semantic-ui-react\";\nimport { logout } from \"../store/actions/auth\";\nimport { fetchWatchers } from \"../store/actions/message\";\n\nconst rolesAdapt = {\n  'streamer': 'Стример',\n  'administrator': 'Администраторы',\n  'moderator': 'Модераторы',\n  'vip': 'VIP',\n  'user': 'Пользователи',\n}\n\nclass ChatHeader extends React.Component {\n  state = {\n    usersList: false\n  };\n\n  usersList = () => {\n    this.setState(state => ({\n      usersList: !state.usersList\n    }))\n\n    if (!this.state.usersList) {\n      this.props.fetchWatchers(this.props.chatID)\n    }\n  }\n\n  render() {\n    const { username, watchersCount, watchers } = this.props;\n\n    return (\n      <>\n        { (this.state.usersList) ? (\n          <div className=\"messages\">\n            <List>\n              {/* TODO: для Search сделать отдельный функциональный компонент */}\n              <br/>\n                <Search style={{textAlign: 'center'}}/>\n              <br/>\n\n              <Loader active={watchers.length === 0}/>\n\n              {Object.keys(watchers).map((role, i) =>\n                <List.Item key={i}>\n                  <List.Header content={rolesAdapt[role]} />\n\n                  <List>\n                    {watchers[role].map((user) => (\n                      <List.Item\n                        key={user.id}\n                        content={user.username}\n                        className='userLink'\n                        style={{color: '#6441a5'}}\n                        as='a'\n                      />\n                    ))}\n                  </List>\n\n                  <br/>\n                </List.Item>\n              )}\n            </List>\n\n          </div> ) : <div/> }\n\n        <div className=\"chatHeader\">\n          <Button\n            content={watchersCount}\n            onClick={this.usersList}\n            icon={'users'}\n            basic\n            compact\n            loading={watchersCount === null}\n            color={'purple'}\n          />\n\n          <Dropdown\n            trigger={\n              <span>\n                <Image avatar src='https://static-cdn.jtvnw.net/jtv_user_pictures/panel-148316617-image-3036e147-20a6-490c-ae31-9cfa6cdd73ad' />\n                {username}\n              </span>\n            }\n            pointing='top right'\n            icon={\"dropdown\"}\n            style={{\n              float: 'right', height: '38px', margin: '-5px 10px 0 0',\n              padding: '8px 11px 0 11px', background: '#EFEFEF',\n              fontWeight: 'normal', fontSize: '14px', borderRadius: '13px'\n            }}\n          >\n            <Dropdown.Menu>\n              <Dropdown.Item onClick={() => this.props.profileTab()}>\n                <Icon name='user'/>\n                Аккаунт\n              </Dropdown.Item>\n\n              <Dropdown.Item>\n                <Icon name='settings'/>\n                Настройки\n              </Dropdown.Item>\n\n              <Dropdown.Item onClick={() => this.props.logout()}>\n                <Icon name='sign out'/>\n                Выход\n              </Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    watchersCount: state.message.watchersCount,\n    watchers: state.message.watchers,\n    username: state.auth.username\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    logout: () => dispatch(logout()),\n    fetchWatchers: (chatID) => dispatch(fetchWatchers(chatID))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatHeader);","import React from \"react\";\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment\n} from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { authSignup } from \"../store/actions/auth\";\n\nclass RegistrationForm extends React.Component {\n  state = {\n    username: \"\",\n    email: \"\",\n    password1: \"\",\n    password2: \"\"\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { username, email, password1, password2 } = this.state;\n    this.props.signup(username, email, password1, password2);\n  };\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  render() {\n    const { username, email, password1, password2 } = this.state;\n    const { error, loading, token } = this.props;\n    if (token) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <Grid\n        textAlign=\"center\"\n        style={{ height: \"100px\" }}\n        verticalAlign=\"middle\"\n      >\n        <Grid.Column style={{ maxWidth: 450 }}>\n          <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n            Signup to your account\n          </Header>\n          {error && <p>{this.props.error.message}</p>}\n\n          <React.Fragment>\n            <Form size=\"large\" onSubmit={this.handleSubmit}>\n              <Segment stacked>\n                <Form.Input\n                  onChange={this.handleChange}\n                  value={username}\n                  name=\"username\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"Username\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  value={email}\n                  name=\"email\"\n                  fluid\n                  icon=\"mail\"\n                  iconPosition=\"left\"\n                  placeholder=\"E-mail address\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  fluid\n                  value={password1}\n                  name=\"password1\"\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  fluid\n                  value={password2}\n                  name=\"password2\"\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Confirm password\"\n                  type=\"password\"\n                />\n\n                <Button\n                  color=\"teal\"\n                  fluid\n                  size=\"large\"\n                  loading={loading}\n                  disabled={loading}\n                >\n                  Signup\n                </Button>\n              </Segment>\n            </Form>\n            <Message>\n              Already have an account? <span>&nbsp;&nbsp;</span>\n              <Button\n                compact\n                icon\n                color={\"google plus\"}\n                content={'Login'}\n                onClick={this.props.changeAuth}\n              />\n            </Message>\n          </React.Fragment>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    token: state.auth.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signup: (username, email, password1, password2) =>\n      dispatch(authSignup(username, email, password1, password2))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(RegistrationForm);","import React from \"react\";\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment\n} from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { authLogin } from \"../store/actions/auth\";\n\nclass LoginForm extends React.Component {\n  state = {\n    username: \"\",\n    password: \"\"\n  };\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { username, password } = this.state;\n    this.props.login(username, password);\n  };\n\n  render() {\n    const { error, loading, token } = this.props;\n    const { username, password } = this.state;\n    if (token) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <Grid\n        textAlign=\"center\"\n        style={{ height: \"100px\" }}\n        verticalAlign=\"middle\"\n      >\n        <Grid.Column style={{ maxWidth: 450 }}>\n          <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n            Log-in to your account\n          </Header>\n          {error && <p>{this.props.error.message}</p>}\n\n          <React.Fragment>\n            <Form size=\"large\" onSubmit={this.handleSubmit}>\n              <Segment stacked>\n                <Form.Input\n                  onChange={this.handleChange}\n                  value={username}\n                  name=\"username\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"Username\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  fluid\n                  value={password}\n                  name=\"password\"\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                />\n\n                <Button\n                  color=\"teal\"\n                  fluid\n                  size=\"large\"\n                  loading={loading}\n                  disabled={loading}\n                >\n                  Login\n                </Button>\n              </Segment>\n            </Form>\n            <Message>\n              New to us? <span>&nbsp;&nbsp;</span>\n              <Button\n                compact\n                icon\n                color={\"google plus\"}\n                content={'Sign Up'}\n                onClick={this.props.changeAuth}\n              />\n            </Message>\n          </React.Fragment>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    token: state.auth.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    login: (username, password) => dispatch(authLogin(username, password))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoginForm);\n\n\n\n","import React, { useState } from \"react\"\nimport { Icon, Menu } from \"semantic-ui-react\"\nimport Signup from \"../containers/Signup\";\nimport Login from \"../containers/Login\";\n\nfunction AuthForm () {\n  const [auth, setAuth] = useState(false)\n\n  function changeAuth () {\n    setAuth(prev => !prev)\n  }\n\n  return (\n    <>\n      <div className=\"chatHeader\">\n        <Menu>\n          <Menu.Item>\n            <Icon name={\"vk\"}/>\n          </Menu.Item>\n\n          <Menu.Item>\n            <Icon name={\"google\"}/>\n          </Menu.Item>\n        </Menu>\n      </div>\n\n      <div className=\"messages\">\n        { Array.from({ length: 10 }, (_, i) => <br key={i}/>) }\n        { (auth) ?\n          <Signup changeAuth = {changeAuth} /> :\n          <Login changeAuth = {changeAuth} />\n        }\n      </div>\n    </>\n  )\n}\n\nexport default AuthForm","import React from \"react\"\nimport { Tab } from \"semantic-ui-react\"\n\nconst panes = [\n  {\n    menuItem: 'Месяц',\n    render: () => <Tab.Pane attached={false}>\n      <div className=\"timetable-content\">\n        кефирнн - 18000<br />\n        daniloo - 11300<br />\n        хролло - 8000<br />\n        richard - 3650<br />\n        kvincius - 3200<br />\n        Jino_90 - 1600<br />\n        Max_of_Shadows - 1500<br />\n        stradallisa - 1250<br />\n        влад, сын сварога - 800<br />\n        alexado - 100<br />\n      </div>\n    </Tab.Pane>,\n  },\n  {\n    menuItem: 'Все время',\n    render: () => <Tab.Pane attached={false}>\n      <div className=\"timetable-content\">\n        daniloo - 11600<br />\n        кефирнн - 8000<br />\n        хролло - 8000<br />\n        Jino_90 - 6000<br />\n        stradallisa - 3650<br />\n        richard - 3650<br />\n        Max_of_Shadows - 3500<br />\n        alexado - 3100<br />\n        kvincius - 3000<br />\n        влад, сын сварога - 1800<br />\n      </div>\n    </Tab.Pane>,\n  }\n]\n\nconst TabDonations = () => (\n  <div className=\"timetable\" style={{width: '29%'}}>\n    <h4>\n      <span role=\"img\" aria-label=\"cup\">🏆</span>{' '}\n      Топ донатеров\n    </h4>\n\n    <Tab menu={{ secondary: true, pointing: true }} panes={panes} />\n  </div>\n)\n\nexport default TabDonations","import React from \"react\"\nimport jsonp from \"jsonp\"\n\nclass TabSchedule extends React.Component {\n  state = {\n    schedule: []\n  };\n\n  getSchedule () {\n    jsonp( \"https://api.vk.com/method/board.getComments?group_id=91605072&topic_id=36501125&count=1&access_token=8b4fce808b4fce808b4fce80a88b3ad84d88b4f8b4fce80d4f5206fdd07ce7fcb3ebc50&v=5.126\", null, (error, data) => {\n      if (error) {\n        this.setState({\n          error,\n        });\n      } else {\n        this.setState({\n          schedule: data.response.items,\n        });\n      }\n    });\n  }\n\n  componentDidMount() {\n    this.getSchedule()\n  }\n\n  render() {\n    const { schedule } = this.state\n\n    return (\n      <div className=\"timetable\" style={{width: '71%', marginRight: '20px'}}>\n\n        {\n          schedule.length !== 0 &&\n          <div className=\"timetable-content\">\n            {\n              schedule[0].text.split('\\n').map((str, i) =>\n                (i === 0) ? <h4>{str}</h4> : <p style={{margin: '0', textIndent: '3ch'}}>{str}</p>\n              )\n            }\n          </div>\n        }\n\n      </div>\n    );\n  }\n}\n\nexport default TabSchedule","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { Button, Segment, Menu, Grid, Image } from \"semantic-ui-react\";\n\nconst roles = {\n  3: \"Администратор\",\n  2: \"Модератор\",\n  4: \"Стример\",\n  1: \"Пользователь\",\n  5: \"VIP\"\n}\n\nclass Profile extends React.Component {\n  state = { activeItem: 'Профиль' }\n\n  handleItemClick = (e, { name }) => this.setState({ activeItem: name })\n\n  render() {\n    const { token, userID, username, roleID, watchTime, usernameColor } = this.props\n    const { activeItem } = this.state\n\n    if (token === null) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <div className=\"playerBox\">\n        <Segment style={{height: '927px'}}>\n          <Menu pointing secondary>\n            <Menu.Item\n              name='Профиль'\n              active={activeItem === 'Профиль'}\n              onClick={this.handleItemClick}\n            />\n\n            <Menu.Item\n              name='Статистика'\n              active={activeItem === 'Статистика'}\n              onClick={this.handleItemClick}\n            />\n\n            <Menu.Item\n              name='Управление'\n              active={activeItem === 'Управление'}\n              onClick={this.handleItemClick}\n            />\n\n            <Menu.Menu position='right'>\n              <Menu.Item>\n                <Button basic active icon={'angle right'} onClick={() => {this.props.profileTab()}}/>\n              </Menu.Item>\n            </Menu.Menu>\n          </Menu>\n\n          <div className=\"contact-profile\">\n            <br/>\n            <Grid celled>\n              <Grid.Column width={4}>\n                <Image src=\"https://static-cdn.jtvnw.net/jtv_user_pictures/panel-148316617-image-3036e147-20a6-490c-ae31-9cfa6cdd73ad\" />\n              </Grid.Column>\n\n              <Grid.Column width={9}>\n                <br/><br/><br/><br/>\n                <p>ID пользователя: {userID}</p>\n                <p>Имя пользователя: <span style={{color: '#' + usernameColor}}>{username}</span></p>\n                <p>Статус: {roles[roleID]}</p>\n                <p>Время просмотра: {watchTime} минут</p>\n              </Grid.Column>\n            </Grid>\n          </div>\n        </Segment>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    username: state.auth.username,\n    watchTime: state.auth.watchTime,\n    usernameColor: state.auth.usernameColor,\n    userID: state.auth.userID,\n    roleID: state.auth.roleID,\n    token: state.auth.token\n  };\n};\n\nexport default connect(mapStateToProps)(Profile);","import ReactPlayer from \"react-player\";\nimport React from \"react\";\n\nclass Player extends React.Component {\n  render () {\n    const { pip } = this.props\n\n    return (\n      <div className='player-wrapper'>\n        <ReactPlayer\n          url='//d2zihajmogu5jn.cloudfront.net/bipbop-advanced/bipbop_16x9_variant.m3u8'\n          controls\n          height={'85%'}\n          className=\"react-player\"\n          width={'100%'}\n          pip={pip}\n          stopOnUnmount={false}\n          // config={{ attributes: { poster: 'http://sun9-31.userapi.com/0ZQ055DIy66f5w0wpuBz0KnVeEpOcEBGHhXq-A/aUkl95qR9dU.jpg' } }}\n        />\n        {/*<iframe frameBorder=\"0\" allowFullScreen width=\"800\" height=\"450\"*/}\n        {/*        src=\"https://goodgame.ru/player?58734\"></iframe>*/}\n      </div>\n    )\n  }\n}\n\nexport default Player","import React from \"react\"\nimport { connect } from \"react-redux\";\nimport { Icon, Loader} from 'semantic-ui-react'\nimport axios from \"axios\";\n\nimport Chat from \"./Chat\";\nimport { HOST_URL } from \"../settings\";\nimport ChatHeader from \"./ChatHeader\";\nimport AuthForm from \"../components/AuthForm\"\nimport TabDonations from \"../components/TabDonations\"\nimport TabSchedule from \"../components/TabSchedule\"\nimport Profile from \"./Profile\";\nimport Player from \"../components/Player\";\n\nclass HomepageLayout extends React.Component {\n  state = {\n    loading: true,\n    profile: false,\n    pip: false\n  }\n\n  profileTab = () => {\n    this.setState(state => ({\n      profile: !state.profile,\n      pip: !state.pip\n    }))\n  }\n\n  componentDidMount() {\n    axios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\n    axios.defaults.xsrfCookieName = \"csrftoken\";\n\n    axios.get(`${HOST_URL}/api/broadcasts/`, {\n      headers: { \"Content-Type\": \"application/json\" },\n      params: { limit: 1, is_active: true }\n    })\n      .then(res => {\n        this.setState({\n          loading: false,\n          chatID: res.data.result[0].id,\n          title: res.data.result[0].title,\n          active: res.data.result[0].is_active,\n        })\n      }).catch(() => {\n        axios.get(`${HOST_URL}/api/broadcasts/`, {\n          headers: { \"Content-Type\": \"application/json\" },\n          params: { limit: 1 }\n        })\n          .then(res => {\n            this.setState({\n              loading: false,\n              chatID: res.data.result[0].id,\n              title: res.data.result[0].title,\n              active: res.data.result[0].is_active\n            })\n          })\n          .catch(err => console.log(\"error \" + err))\n      });\n  }\n\n  render() {\n    const { active, chatID, loading, title, profile, pip } = this.state\n    return (\n      <div>\n      \n        <div className=\"headerback\">\n          <header className=\"headerWrraper\">\n            <nav className=\"menuVez\">\n              <div className=\"spacebet\">\n                <ul>\n                  <li><a href=\"https://vezaks.com/\">Главная</a></li>\n                  <li><a href=\"https://vezaks.com/serialyi\">Сериалы</a></li>\n                  <li><a href=\"https://vezaks.com/filmyi\">Фильмы</a></li>\n                  <li className=\"last\"><a rel=\"nofollow\" href=\"https://vezaks.com/igryi\">Игры</a></li>\n                </ul>\n\n                <a href=\"https://www.twitch.tv/vezaks\" target=\"_blank\" rel=\"noopener noreferrer\">\n                  <div className=\"streamon\" data-description=\"$title\">\n                    <div className={\"blink\"}/>\n                    Стрим онлайн\n                  </div>\n                </a>\n              </div>\n            </nav>\n          </header>\n        </div>\n\n        <hr className=\"line-opacity\"/>\n\n        <div className=\"playerBox\">\n          <Player pip={pip}/>\n\n          <div className=\"contentStream\">\n            <h1>{title}</h1>\n\n            <div className=\"flex-block\">\n              <TabSchedule/>\n              <TabDonations/>\n            </div>\n\n            <div className=\"soc-button\">\n              <a href=\"/#\" target=\"_blank\" rel=\"nofollow\" className=\"stream-button\" style={{color:'#252525'}}><Icon name='money' size='large' style={{marginRight:'10px'}}/>Задонатить</a>\n              <a href=\"/#\" target=\"_blank\" rel=\"nofollow\" className=\"stream-button\" style={{color:'#4A76A8'}}><Icon name='vk' size='large'/> Группа Вк</a>\n              <a href=\"/#\" target=\"_blank\" rel=\"nofollow\" className=\"stream-button\" style={{color:'#FF0000'}}><Icon name='youtube' size='large'/> Ютуб</a>\n            </div>\n          </div>\n        </div>\n\n        { (profile) && <Profile profileTab={this.profileTab}/> }\n\n        {\n          (!this.props.isAuthenticated) ? <AuthForm/> :\n            (loading) ?\n              <React.Fragment>\n                  <div className=\"messages\">\n                    <Loader active size={\"big\"} style={{height: '200px'}}/>\n                  </div>\n                  <div className=\"chatHeader\" style={{height: '53px'}}/>\n              </React.Fragment>\n              :\n              <React.Fragment>\n                <Chat chatID={chatID} active={active}/>\n                <ChatHeader chatID={chatID} profileTab={this.profileTab}/>\n              </React.Fragment>\n        }\n\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.token !== null\n  };\n};\n\nexport default connect(mapStateToProps)(HomepageLayout);","import React from \"react\";\nimport { Route } from \"react-router-dom\";\n\nimport HomepageLayout from \"./containers/Home\";\nimport Profile from \"./containers/Profile\";\nimport Hoc from \"./hoc/hoc\";\n\nconst BaseRouter = () => (\n  <Hoc>\n    <Route exact path='/' component={HomepageLayout}/>\n    <Route exact path='/profile/' component={Profile}/>\n  </Hoc>\n);\n\nexport default BaseRouter;","import React, { Component } from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport BaseRouter from \"./routes\";\nimport * as actions from \"./store/actions/auth\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport * as messageActions from \"./store/actions/message\";\nimport WebSocketInstance from \"./websocket\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    WebSocketInstance.addCallbacks(\n      this.props.addMessage.bind(this),\n      this.props.updateWatchersCount.bind(this)\n    );\n  }\n\n  componentDidMount() {\n    if (!this.props.isAuthenticated) {\n      this.props.onTryAutoSignup();\n    }\n  }\n\n  render() {\n    return (\n      <Router>\n        <BaseRouter/>\n      </Router>\n    );\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.token !== null,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onTryAutoSignup: () => dispatch(actions.authCheckState()),\n    addMessage: message => dispatch(messageActions.addMessage(message)),\n    setMessages: messages => dispatch(messageActions.setMessages(messages)),\n    updateWatchersCount: message => dispatch(messageActions.updateWatchersCount(message))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export const updateObject = (oldObject, updatedProperties) => {\n  return {\n    ...oldObject,\n    ...updatedProperties\n  }\n};","import * as actionTypes from \"../actions/actionTypes\";\nimport { updateObject } from \"../utility\";\n\nconst initialState = {\n  messages: [],\n  watchersCount: null,\n  watchers: []\n};\n\nconst addMessage = (state, action) => {\n  return updateObject(state, {\n    messages: [...state.messages, action.message]\n  });\n};\n\nconst updateWatchersCount = (state, action) => {\n  return updateObject(state, {\n    watchersCount: action.watchersCount\n  });\n};\n\nconst setMessages = (state, action) => {\n  return updateObject(state, {\n    messages: action.messages.reverse()\n  });\n};\n\nconst setWatchers = (state, action) => {\n  return updateObject(state, {\n    watchers: action.watchers\n  });\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.ADD_MESSAGE:\n      return addMessage(state, action);\n    case actionTypes.UPDATE_WATCHERS_COUNT:\n      return updateWatchersCount(state, action);\n    case actionTypes.SET_MESSAGES:\n      return setMessages(state, action);\n    case actionTypes.SET_WATCHERS:\n      return setWatchers(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","import * as actionTypes from \"../actions/actionTypes\";\nimport { updateObject } from \"../utility\";\n\nconst initialState = {\n  images: []\n};\n\nconst setImages = (state, action) => {\n  return updateObject(state, {\n    images: action.images\n  });\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_IMAGES:\n      return setImages(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","import * as actionTypes from \"../actions/actionTypes\";\nimport { updateObject } from \"../utility\";\n\nconst initialState = {\n  token: null,\n  error: null,\n  loading: false,\n  username: null,\n  watchTime: null,\n  userID: null,\n  usernameColor: null,\n  roleID: null\n};\n\nconst authStart = (state, _action) => {\n  return updateObject(state, {\n    error: null,\n    loading: true\n  });\n};\n\nconst authSuccess = (state, action) => {\n  return updateObject(state, {\n    token: action.token,\n    error: null,\n    loading: false\n  });\n};\n\nconst authFail = (state, action) => {\n  return updateObject(state, {\n    error: action.error,\n    loading: false\n  });\n};\n\nconst authLogout = (state, _action) => {\n  return updateObject(state, {\n    token: null,\n    username: null,\n    watchTime: null,\n    userID: null,\n    usernameColor: null,\n    roleID: null\n  });\n};\n\nconst authUpdate = (state, action) => {\n  return updateObject(state, {\n    username: action.username,\n    watchTime: action.watchTime,\n    userID: action.userID,\n    usernameColor: action.usernameColor,\n    roleID: action.roleID\n  });\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.AUTH_START:\n      return authStart(state, action);\n    case actionTypes.AUTH_SUCCESS:\n      return authSuccess(state, action);\n    case actionTypes.AUTH_FAIL:\n      return authFail(state, action);\n    case actionTypes.AUTH_LOGOUT:\n      return authLogout(state, action);\n    case actionTypes.AUTH_UPDATE:\n      return authUpdate(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore, compose, applyMiddleware, combineReducers } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport messageReducer from \"./store/reducers/message\";\nimport imageReducer from \"./store/reducers/image\";\nimport authReducer from \"./store/reducers/auth\";\n\nconst composeEnhances = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  message: messageReducer,\n  image: imageReducer\n});\n\nconst store = createStore(rootReducer, composeEnhances(applyMiddleware(thunk)));\n\nconst app = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\nReactDOM.render(app, document.getElementById('root'));\nserviceWorker.unregister();\n"],"sourceRoot":""}