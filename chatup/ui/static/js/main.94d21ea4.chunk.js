(this["webpackJsonpchatup-ui"]=this["webpackJsonpchatup-ui"]||[]).push([[0],{192:function(e,t,a){e.exports=a(240)},240:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(48),c=a.n(l),s=a(18),o=a(13),i=a(99),u=a(24),m=a(23),h=a(74),p=a(26),d=a(16),f=a(50),g=a(256),E=a(15),v=a.n(E),b=function(e){return e.children},w=a(261),k=a(173),C=a(257),j=a(108),y=a(255),S=a(101),O="http://localhost:8000",A="ws://localhost:8000";O="https://chatup-vezaks.herokuapp.com",A="wss://chatup-vezaks.herokuapp.com";var I=function(){function e(){Object(s.a)(this,e),this.callbacks={},this.socketRef=null}return Object(o.a)(e,null,[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),Object(o.a)(e,[{key:"connect",value:function(e){var t=this,a="".concat(A,"/api/ws/rooms/").concat(e,"/");this.socketRef=new WebSocket(a),this.socketRef.onopen=function(){console.log("WebSocket open")},this.socketRef.onmessage=function(e){t.socketNewMessage(e.data)},this.socketRef.onerror=function(e){console.log(e.content)},this.socketRef.onclose=function(a){a.wasClean||(console.log("WebSocket closed let's reopen"),t.connect(e))}}},{key:"disconnect",value:function(){this.socketRef.close(1e3,"Closing Connection Normally")}},{key:"socketNewMessage",value:function(e){var t=JSON.parse(e),a=t.type;0!==Object.keys(this.callbacks).length&&("send_message"===a&&this.callbacks.new_message(t.content),"update_watchers_count"===a&&this.callbacks.update_watchers_count(t.content))}},{key:"newChatMessage",value:function(e){this.sendMessage({type:"create_message",content:{text:e.content}})}},{key:"addCallbacks",value:function(e,t){this.callbacks.new_message=e,this.callbacks.update_watchers_count=t}},{key:"sendMessage",value:function(e){try{this.socketRef.send(JSON.stringify(Object(S.a)({},e)))}catch(t){console.log(t.message)}}},{key:"state",value:function(){return this.socketRef.readyState}}]),e}();I.instance=null;var T=I.getInstance();v.a.defaults.xsrfHeaderName="X-CSRFTOKEN",v.a.defaults.xsrfCookieName="csrftoken";var N=function(e){return{type:"SET_MESSAGES",messages:e}},x=a(263);var M=function(e){return r.a.createElement(x.a,null,r.a.createElement(k.a,{src:"https://react.semantic-ui.com/images/avatar/large/matthew.png",wrapped:!0,ui:!1}),r.a.createElement(x.a.Content,null,r.a.createElement(x.a.Header,null,e.username),r.a.createElement(x.a.Meta,null,r.a.createElement("span",{className:"date"},"Joined in 2015")),r.a.createElement(x.a.Description,null,"Matthew is a musician living in Nashville.")),r.a.createElement(x.a.Content,{extra:!0},r.a.createElement(f.a,{as:"a",name:"user"}),"22 Friends"))},R=function(e){var t=e.data;return r.a.createElement("img",{className:"message-img",alt:"img",src:"data:image/jpeg;base64,".concat(t)})};var D=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={message:""},n.messageChangeHandler=function(e){n.setState({message:e.target.value})},n.sendMessageHandler=function(e){e.preventDefault();var t={content:n.state.message};T.newChatMessage(t),n.setState({message:""})},n.renderMessages=function(e){return e.map((function(e){return r.a.createElement(w.a,{key:e.id},r.a.createElement(w.a.Content,null,r.a.createElement(w.a.Author,null,r.a.createElement(R,{data:n.props.images[e.author.role_icon-1].image}),r.a.createElement(k.a,{className:"message-img",src:"https://static-cdn.jtvnw.net/jtv_user_pictures/panel-148316617-image-3036e147-20a6-490c-ae31-9cfa6cdd73ad"}),r.a.createElement(k.a,{className:"message-img",src:"data:image/png;base64,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"}),r.a.createElement(C.a,{content:r.a.createElement(M,{username:e.author.username}),trigger:r.a.createElement(j.a,{as:"a",basic:!0,active:!0,style:{color:"#"+e.author.username_color},content:e.author.username}),on:"click"})),r.a.createElement("span",null,"\xa0\xa0")," ",e.text))}))},n.scrollToBottom=function(){n.messagesEnd.scrollIntoView({behavior:"smooth"})},n.initialiseChat(),n}return Object(o.a)(a,[{key:"initialiseChat",value:function(){this.props.fetchMessages(this.props.chatID),this.props.active&&T.connect(this.props.chatID)}}]),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"componentWillUnmount",value:function(){T.socketRef&&T.disconnect()}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.messages,l=a.active;return r.a.createElement(b,null,r.a.createElement("div",{className:"messages"},r.a.createElement(w.a.Group,{style:{height:"90%",overflowY:(e=17,e>16?"scroll":"null")}},n&&this.renderMessages(n),r.a.createElement("div",{ref:function(e){t.messagesEnd=e}}))),r.a.createElement("div",{className:"message-input"},l?r.a.createElement("form",{autoComplete:"off",onSubmit:this.sendMessageHandler},r.a.createElement("div",{className:"wrap"},r.a.createElement(y.a,{onChange:this.messageChangeHandler,value:this.state.message,required:!0,id:"chat-message-input",type:"text",placeholder:"Write your message...",fluid:!0}))):"This stream is offline"))}}]),a}(r.a.Component),H=Object(p.b)((function(e){return{messages:e.message.messages,images:e.image.images}}),(function(e){return{fetchMessages:function(t){return e(function(e){return function(t){v.a.get("".concat(O,"/api/broadcasts/").concat(e,"/messages/"),{headers:{"Content-Type":"application/json"}}).then((function(e){t(N(e.data.result))})).catch((function(e){return console.log("error "+e)}))}}(t))}}}))(D),P=a(262),z=a(258),q=a(241),V=a(259);v.a.defaults.xsrfHeaderName="X-CSRFTOKEN",v.a.defaults.xsrfCookieName="csrftoken";v.a.defaults.xsrfHeaderName="X-CSRFTOKEN",v.a.defaults.xsrfCookieName="csrftoken",v.a.defaults.withCredentials=!0;var F=function(e){return{type:"AUTH_SUCCESS",token:e}},U=function(e){return{type:"AUTH_FAIL",error:e}},B=function(){return function(e){v.a.get("".concat(O,"/api/general/user/"),{headers:{"Content-Type":"application/json"}}).then((function(t){var a=t.data.username,n=t.data.watchtime,r=t.data.id,l=t.data.username_color,c=t.data.role;e(function(e,t,a,n,r){return{type:"AUTH_UPDATE",username:e,watchTime:t,userID:a,usernameColor:n,roleID:r}}(a,n,r,l,c))})).catch((function(e){console.log("error "+e),localStorage.clear()}))}},G=function(){return function(e){var t=localStorage.getItem("token");null!==t&&(e(F(t)),e((function(e){v.a.get("".concat(O,"/api/images/"),{headers:{"Content-Type":"application/json"}}).then((function(t){e({type:"SET_IMAGES",images:t.data})})).catch((function(e){console.log("error "+e)}))})),e(B()))}},L={streamer:"\u0421\u0442\u0440\u0438\u043c\u0435\u0440",administrator:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u044b",moderator:"\u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440\u044b",vip:"VIP",user:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"},W=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={usersList:!1},e.usersList=function(){e.setState((function(e){return{usersList:!e.usersList}})),e.state.usersList||e.props.fetchWatchers(e.props.chatID)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.username,n=t.watchersCount,l=t.watchers;return r.a.createElement(r.a.Fragment,null,this.state.usersList?r.a.createElement("div",{className:"messages"},r.a.createElement(P.a,null,r.a.createElement("br",null),r.a.createElement(z.a,{style:{textAlign:"center"}}),r.a.createElement("br",null),r.a.createElement(g.a,{active:0===l.length}),Object.keys(l).map((function(e,t){return r.a.createElement(P.a.Item,{key:t},r.a.createElement(P.a.Header,{content:L[e]}),r.a.createElement(P.a,null,l[e].map((function(e){return r.a.createElement(P.a.Item,{key:e.id,content:e.username,className:"userLink",style:{color:"#6441a5"},as:"a"})}))),r.a.createElement("br",null))})))):r.a.createElement("div",null),r.a.createElement("div",{className:"chatHeader"},r.a.createElement(q.a,{content:n,onClick:this.usersList,icon:"users",basic:!0,compact:!0,loading:null===n,color:"purple"}),r.a.createElement(V.a,{trigger:r.a.createElement("span",null,r.a.createElement(k.a,{avatar:!0,src:"https://static-cdn.jtvnw.net/jtv_user_pictures/panel-148316617-image-3036e147-20a6-490c-ae31-9cfa6cdd73ad"}),a),pointing:"top right",icon:"dropdown",style:{float:"right",height:"38px",margin:"-5px 10px 0 0",padding:"8px 11px 0 11px",background:"#EFEFEF",fontWeight:"normal",fontSize:"14px",borderRadius:"13px"}},r.a.createElement(V.a.Menu,null,r.a.createElement(V.a.Item,{onClick:function(){return e.props.profileTab()}},r.a.createElement(f.a,{name:"user"}),"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement(V.a.Item,null,r.a.createElement(f.a,{name:"settings"}),"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement(V.a.Item,{onClick:function(){return e.props.logout()}},r.a.createElement(f.a,{name:"sign out"}),"\u0412\u044b\u0445\u043e\u0434")))))}}]),a}(r.a.Component),Z=Object(p.b)((function(e){return{watchersCount:e.message.watchersCount,watchers:e.message.watchers,username:e.auth.username}}),(function(e){return{logout:function(){return e((v.a.get("".concat(O,"/api/auth/logout/"),{headers:{"Content-Type":"application/json"}}).then((function(){T.socketRef&&T.disconnect(),localStorage.clear()})),{type:"AUTH_LOGOUT"}))},fetchWatchers:function(t){return e(function(e){return function(t){v.a.get("".concat(O,"/api/broadcasts/").concat(e,"/watchers/"),{headers:{"Content-Type":"application/json"}}).then((function(e){t({type:"SET_WATCHERS",watchers:e.data.result})})).catch((function(e){return console.log("error "+e)}))}}(t))}}}))(W),X=a(175),K=a(172),J=a(77),Y=a(176),Q=a(266),_=a(260),$=a(148),ee=a(264),te=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:"",email:"",password1:"",password2:""},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.email,l=a.password1,c=a.password2;e.props.signup(n,r,l,c)},e.handleChange=function(t){e.setState(Object(J.a)({},t.target.name,t.target.value))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.password1,l=e.password2,c=this.props,s=c.error,o=c.loading;return c.token?r.a.createElement(d.a,{to:"/"}):r.a.createElement(Y.a,{textAlign:"center",style:{height:"100px"},verticalAlign:"middle"},r.a.createElement(Y.a.Column,{style:{maxWidth:450}},r.a.createElement(Q.a,{as:"h2",color:"teal",textAlign:"center"},"Signup to your account"),s&&r.a.createElement("p",null,this.props.error.message),r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{size:"large",onSubmit:this.handleSubmit},r.a.createElement($.a,{stacked:!0},r.a.createElement(_.a.Input,{onChange:this.handleChange,value:t,name:"username",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username"}),r.a.createElement(_.a.Input,{onChange:this.handleChange,value:a,name:"email",fluid:!0,icon:"mail",iconPosition:"left",placeholder:"E-mail address"}),r.a.createElement(_.a.Input,{onChange:this.handleChange,fluid:!0,value:n,name:"password1",icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),r.a.createElement(_.a.Input,{onChange:this.handleChange,fluid:!0,value:l,name:"password2",icon:"lock",iconPosition:"left",placeholder:"Confirm password",type:"password"}),r.a.createElement(q.a,{color:"teal",fluid:!0,size:"large",loading:o,disabled:o},"Signup"))),r.a.createElement(ee.a,null,"Already have an account? ",r.a.createElement("span",null,"\xa0\xa0"),r.a.createElement(q.a,{compact:!0,icon:!0,color:"google plus",content:"Login",onClick:this.props.changeAuth})))))}}]),a}(r.a.Component),ae=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token}}),(function(e){return{signup:function(t,a,n,r){return e(function(e,t,a,n){return function(r){r({type:"AUTH_START"}),v.a.post("".concat(O,"/api/auth/signup/"),{username:e,email:t,password1:a,password2:n},{credentials:"include"}).then((function(){localStorage.setItem("token","true"),r(F("true")),r(B())})).catch((function(e){r(U(e))}))}}(t,a,n,r))}}}))(te),ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e.handleChange=function(t){e.setState(Object(J.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;e.props.login(n,r)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.error,a=e.loading,n=e.token,l=this.state,c=l.username,s=l.password;return n?r.a.createElement(d.a,{to:"/"}):r.a.createElement(Y.a,{textAlign:"center",style:{height:"100px"},verticalAlign:"middle"},r.a.createElement(Y.a.Column,{style:{maxWidth:450}},r.a.createElement(Q.a,{as:"h2",color:"teal",textAlign:"center"},"Log-in to your account"),t&&r.a.createElement("p",null,this.props.error.message),r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{size:"large",onSubmit:this.handleSubmit},r.a.createElement($.a,{stacked:!0},r.a.createElement(_.a.Input,{onChange:this.handleChange,value:c,name:"username",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username"}),r.a.createElement(_.a.Input,{onChange:this.handleChange,fluid:!0,value:s,name:"password",icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),r.a.createElement(q.a,{color:"teal",fluid:!0,size:"large",loading:a,disabled:a},"Login"))),r.a.createElement(ee.a,null,"New to us? ",r.a.createElement("span",null,"\xa0\xa0"),r.a.createElement(q.a,{compact:!0,icon:!0,color:"google plus",content:"Sign Up",onClick:this.props.changeAuth})))))}}]),a}(r.a.Component),re=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token}}),(function(e){return{login:function(t,a){return e(function(e,t){return function(a){a({type:"AUTH_START"}),v.a.post("".concat(O,"/api/auth/login/"),{username:e,password:t},{credentials:"include"}).then((function(){localStorage.setItem("token","true"),a(F("true")),a(B())})).catch((function(e){a(U(e))}))}}(t,a))}}}))(ne);var le=function(){var e=Object(n.useState)(!1),t=Object(X.a)(e,2),a=t[0],l=t[1];function c(){l((function(e){return!e}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chatHeader"},r.a.createElement(K.a,null,r.a.createElement(K.a.Item,null,r.a.createElement(f.a,{name:"vk"})),r.a.createElement(K.a.Item,null,r.a.createElement(f.a,{name:"google"})))),r.a.createElement("div",{className:"messages"},Array.from({length:10},(function(e,t){return r.a.createElement("br",{key:t})})),a?r.a.createElement(ae,{changeAuth:c}):r.a.createElement(re,{changeAuth:c})))},ce=a(268),se=[{menuItem:"\u041c\u0435\u0441\u044f\u0446",render:function(){return r.a.createElement(ce.a.Pane,{attached:!1},r.a.createElement("div",{className:"timetable-content"},"\u043a\u0435\u0444\u0438\u0440\u043d\u043d - 18000",r.a.createElement("br",null),"daniloo - 11300",r.a.createElement("br",null),"\u0445\u0440\u043e\u043b\u043b\u043e - 8000",r.a.createElement("br",null),"richard - 3650",r.a.createElement("br",null),"kvincius - 3200",r.a.createElement("br",null),"Jino_90 - 1600",r.a.createElement("br",null),"Max_of_Shadows - 1500",r.a.createElement("br",null),"stradallisa - 1250",r.a.createElement("br",null),"\u0432\u043b\u0430\u0434, \u0441\u044b\u043d \u0441\u0432\u0430\u0440\u043e\u0433\u0430 - 800",r.a.createElement("br",null),"alexado - 100",r.a.createElement("br",null)))}},{menuItem:"\u0412\u0441\u0435 \u0432\u0440\u0435\u043c\u044f",render:function(){return r.a.createElement(ce.a.Pane,{attached:!1},r.a.createElement("div",{className:"timetable-content"},"daniloo - 11600",r.a.createElement("br",null),"\u043a\u0435\u0444\u0438\u0440\u043d\u043d - 8000",r.a.createElement("br",null),"\u0445\u0440\u043e\u043b\u043b\u043e - 8000",r.a.createElement("br",null),"Jino_90 - 6000",r.a.createElement("br",null),"stradallisa - 3650",r.a.createElement("br",null),"richard - 3650",r.a.createElement("br",null),"Max_of_Shadows - 3500",r.a.createElement("br",null),"alexado - 3100",r.a.createElement("br",null),"kvincius - 3000",r.a.createElement("br",null),"\u0432\u043b\u0430\u0434, \u0441\u044b\u043d \u0441\u0432\u0430\u0440\u043e\u0433\u0430 - 1800",r.a.createElement("br",null)))}}],oe=function(){return r.a.createElement("div",{className:"timetable",style:{width:"29%"}},r.a.createElement("h4",null,r.a.createElement("span",{role:"img","aria-label":"cup"},"\ud83c\udfc6")," ","\u0422\u043e\u043f \u0434\u043e\u043d\u0430\u0442\u0435\u0440\u043e\u0432"),r.a.createElement(ce.a,{menu:{secondary:!0,pointing:!0},panes:se}))},ie=a(169),ue=a.n(ie),me=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={schedule:[]},e}return Object(o.a)(a,[{key:"getSchedule",value:function(){var e=this;ue()("https://api.vk.com/method/board.getComments?group_id=91605072&topic_id=36501125&count=1&access_token=8b4fce808b4fce808b4fce80a88b3ad84d88b4f8b4fce80d4f5206fdd07ce7fcb3ebc50&v=5.126",null,(function(t,a){t?e.setState({error:t}):e.setState({schedule:a.response.items})}))}},{key:"componentDidMount",value:function(){this.getSchedule()}},{key:"render",value:function(){var e=this.state.schedule;return r.a.createElement("div",{className:"timetable",style:{width:"71%",marginRight:"20px"}},0!==e.length&&r.a.createElement("div",{className:"timetable-content"},e[0].text.split("\n").map((function(e,t){return 0===t?r.a.createElement("h4",null,e):r.a.createElement("p",{style:{margin:"0",textIndent:"3ch"}},e)}))))}}]),a}(r.a.Component),he={3:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440",2:"\u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440",4:"\u0421\u0442\u0440\u0438\u043c\u0435\u0440",1:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",5:"VIP"},pe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={activeItem:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"},e.handleItemClick=function(t,a){var n=a.name;return e.setState({activeItem:n})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.token,n=t.userID,l=t.username,c=t.roleID,s=t.watchTime,o=t.usernameColor,i=this.state.activeItem;return null===a?r.a.createElement(d.a,{to:"/"}):r.a.createElement("div",{className:"playerBox"},r.a.createElement($.a,{style:{height:"927px"}},r.a.createElement(K.a,{pointing:!0,secondary:!0},r.a.createElement(K.a.Item,{name:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",active:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"===i,onClick:this.handleItemClick}),r.a.createElement(K.a.Item,{name:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",active:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"===i,onClick:this.handleItemClick}),r.a.createElement(K.a.Item,{name:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",active:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"===i,onClick:this.handleItemClick}),r.a.createElement(K.a.Menu,{position:"right"},r.a.createElement(K.a.Item,null,r.a.createElement(q.a,{basic:!0,active:!0,icon:"angle right",onClick:function(){e.props.profileTab()}})))),r.a.createElement("div",{className:"contact-profile"},r.a.createElement("br",null),r.a.createElement(Y.a,{celled:!0},r.a.createElement(Y.a.Column,{width:4},r.a.createElement(k.a,{src:"https://static-cdn.jtvnw.net/jtv_user_pictures/panel-148316617-image-3036e147-20a6-490c-ae31-9cfa6cdd73ad"})),r.a.createElement(Y.a.Column,{width:9},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,"ID \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ",n),r.a.createElement("p",null,"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ",r.a.createElement("span",{style:{color:"#"+o}},l)),r.a.createElement("p",null,"\u0421\u0442\u0430\u0442\u0443\u0441: ",he[c]),r.a.createElement("p",null,"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430: ",s," \u043c\u0438\u043d\u0443\u0442"))))))}}]),a}(r.a.Component),de=Object(p.b)((function(e){return{username:e.auth.username,watchTime:e.auth.watchTime,usernameColor:e.auth.usernameColor,userID:e.auth.userID,roleID:e.auth.roleID,token:e.auth.token}}))(pe),fe=a(170),ge=a.n(fe),Ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.pip;return r.a.createElement("div",{className:"player-wrapper"},r.a.createElement(ge.a,{url:"//d2zihajmogu5jn.cloudfront.net/bipbop-advanced/bipbop_16x9_variant.m3u8",controls:!0,height:"85%",className:"react-player",width:"100%",pip:e,stopOnUnmount:!1}))}}]),a}(r.a.Component),ve=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,profile:!1,pip:!1},e.profileTab=function(){e.setState((function(e){return{profile:!e.profile,pip:!e.pip}}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.defaults.xsrfHeaderName="X-CSRFTOKEN",v.a.defaults.xsrfCookieName="csrftoken",v.a.get("".concat(O,"/api/broadcasts/"),{headers:{"Content-Type":"application/json"},params:{limit:1,is_active:!0}}).then((function(t){e.setState({loading:!1,chatID:t.data.result[0].id,title:t.data.result[0].title,active:t.data.result[0].is_active})})).catch((function(){v.a.get("".concat(O,"/api/broadcasts/"),{headers:{"Content-Type":"application/json"},params:{limit:1}}).then((function(t){e.setState({loading:!1,chatID:t.data.result[0].id,title:t.data.result[0].title,active:t.data.result[0].is_active})})).catch((function(e){return console.log("error "+e)}))}))}},{key:"render",value:function(){var e=this.state,t=e.active,a=e.chatID,n=e.loading,l=e.title,c=e.profile,s=e.pip;return r.a.createElement("div",null,r.a.createElement("div",{className:"headerback"},r.a.createElement("header",{className:"headerWrraper"},r.a.createElement("nav",{className:"menuVez"},r.a.createElement("div",{className:"spacebet"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://vezaks.com/"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://vezaks.com/serialyi"},"\u0421\u0435\u0440\u0438\u0430\u043b\u044b")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://vezaks.com/filmyi"},"\u0424\u0438\u043b\u044c\u043c\u044b")),r.a.createElement("li",{className:"last"},r.a.createElement("a",{rel:"nofollow",href:"https://vezaks.com/igryi"},"\u0418\u0433\u0440\u044b"))),r.a.createElement("a",{href:"https://www.twitch.tv/vezaks",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"streamon","data-description":"$title"},r.a.createElement("div",{className:"blink"}),"\u0421\u0442\u0440\u0438\u043c \u043e\u043d\u043b\u0430\u0439\u043d")))))),r.a.createElement("hr",{className:"line-opacity"}),r.a.createElement("div",{className:"playerBox"},r.a.createElement(Ee,{pip:s}),r.a.createElement("div",{className:"contentStream"},r.a.createElement("h1",null,l),r.a.createElement("div",{className:"flex-block"},r.a.createElement(me,null),r.a.createElement(oe,null)),r.a.createElement("div",{className:"soc-button"},r.a.createElement("a",{href:"/#",target:"_blank",rel:"nofollow",className:"stream-button",style:{color:"#252525"}},r.a.createElement(f.a,{name:"money",size:"large",style:{marginRight:"10px"}}),"\u0417\u0430\u0434\u043e\u043d\u0430\u0442\u0438\u0442\u044c"),r.a.createElement("a",{href:"/#",target:"_blank",rel:"nofollow",className:"stream-button",style:{color:"#4A76A8"}},r.a.createElement(f.a,{name:"vk",size:"large"})," \u0413\u0440\u0443\u043f\u043f\u0430 \u0412\u043a"),r.a.createElement("a",{href:"/#",target:"_blank",rel:"nofollow",className:"stream-button",style:{color:"#FF0000"}},r.a.createElement(f.a,{name:"youtube",size:"large"})," \u042e\u0442\u0443\u0431")))),c&&r.a.createElement(de,{profileTab:this.profileTab}),this.props.isAuthenticated?n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"messages"},r.a.createElement(g.a,{active:!0,size:"big",style:{height:"200px"}})),r.a.createElement("div",{className:"chatHeader",style:{height:"53px"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{chatID:a,active:t}),r.a.createElement(Z,{chatID:a,profileTab:this.profileTab})):r.a.createElement(le,null))}}]),a}(r.a.Component),be=Object(p.b)((function(e){return{isAuthenticated:null!==e.auth.token}}))(ve),we=function(){return r.a.createElement(b,null,r.a.createElement(d.b,{exact:!0,path:"/",component:be}),r.a.createElement(d.b,{exact:!0,path:"/profile/",component:de}))},ke=(a(239),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),n=t.call(this,e),T.addCallbacks(n.props.addMessage.bind(Object(i.a)(n)),n.props.updateWatchersCount.bind(Object(i.a)(n))),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.isAuthenticated||this.props.onTryAutoSignup()}},{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(we,null))}}]),a}(n.Component)),Ce=Object(p.b)((function(e){return{isAuthenticated:null!==e.auth.token}}),(function(e){return{onTryAutoSignup:function(){return e(G())},addMessage:function(t){return e(function(e){return{type:"ADD_MESSAGE",message:e}}(t))},setMessages:function(t){return e(N(t))},updateWatchersCount:function(t){return e(function(e){return{type:"UPDATE_WATCHERS_COUNT",watchersCount:e.watchers_count}}(t))}}}))(ke);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var je=a(71),ye=a(171),Se=a(174),Oe=function(e,t){return Object(S.a)(Object(S.a)({},e),t)},Ae={messages:[],watchersCount:null,watchers:[]},Ie=function(e,t){return Oe(e,{messages:[].concat(Object(Se.a)(e.messages),[t.message])})},Te=function(e,t){return Oe(e,{watchersCount:t.watchersCount})},Ne=function(e,t){return Oe(e,{messages:t.messages.reverse()})},xe=function(e,t){return Oe(e,{watchers:t.watchers})},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return Ie(e,t);case"UPDATE_WATCHERS_COUNT":return Te(e,t);case"SET_MESSAGES":return Ne(e,t);case"SET_WATCHERS":return xe(e,t);default:return e}},Re={images:[]},De=function(e,t){return Oe(e,{images:t.images})},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IMAGES":return De(e,t);default:return e}},Pe={token:null,error:null,loading:!1,username:null,watchTime:null,userID:null,usernameColor:null,roleID:null},ze=function(e,t){return Oe(e,{error:null,loading:!0})},qe=function(e,t){return Oe(e,{token:t.token,error:null,loading:!1})},Ve=function(e,t){return Oe(e,{error:t.error,loading:!1})},Fe=function(e,t){return Oe(e,{token:null,username:null,watchTime:null,userID:null,usernameColor:null,roleID:null})},Ue=function(e,t){return Oe(e,{username:t.username,watchTime:t.watchTime,userID:t.userID,usernameColor:t.usernameColor,roleID:t.roleID})},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return ze(e);case"AUTH_SUCCESS":return qe(e,t);case"AUTH_FAIL":return Ve(e,t);case"AUTH_LOGOUT":return Fe(e);case"AUTH_UPDATE":return Ue(e,t);default:return e}},Ge=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||je.d,Le=Object(je.c)({auth:Be,message:Me,image:He}),We=Object(je.e)(Le,Ge(Object(je.a)(ye.a))),Ze=r.a.createElement(p.a,{store:We},r.a.createElement(Ce,null));c.a.render(Ze,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[192,1,2]]]);
//# sourceMappingURL=main.94d21ea4.chunk.js.map